{% extends "base.html" %}

{% block title %}환자 접수 - GuGu Medical Center EMR{% endblock %}

{% block content %}
  <h1>환자 접수표</h1>
  <table id="registration-table">
    <thead>
      <tr>
        <th>순번</th>
        <th>환자이름</th>
        <th>상태</th>
        <th>액션</th>
      </tr>
    </thead>
    <tbody>
      {% for reg in registrations %}
      <tr data-id="{{ reg.id }}">
        <td>{{ loop.index }}</td>
        <td>
          <input type="text" class="reg-patient-name" value="{{ reg.patient_name }}" required>
        </td>
        <td>
          <input type="text" class="reg-status" value="{{ reg.status }}" required>
        </td>
        <td>
          <button class="update-button">수정</button>
          <button class="delete-button">삭제</button>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <h2>새 접수 추가</h2>
  <form id="add-registration-form" action="/registration/add" method="post">
    <label>환자이름: <input type="text" name="patient_name" required></label>
    <button type="submit">추가</button>
  </form>

  <button id="reset-registrations">전체 초기화</button>

  <script src="/static/js/registration.js"></script>
{% endblock %}