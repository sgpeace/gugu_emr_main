{% extends "base.html" %}

{% block title %}환자 접수 - GuGu Medical Center EMR{% endblock %}

{% block content %}
  <h1>환자 접수표</h1>
  <table>
    <thead>
      <tr>
        <th>순번</th>
        <th>환자이름</th>
        <th>상태</th>
        <th>액션</th>
      </tr>
    </thead>
    <tbody>
      {% for reg in registrations %}
      <tr>
        <td>{{ reg.id }}</td>
        <td>
          <form action="/registration/update" method="post" style="display: inline;">
            <input type="hidden" name="id" value="{{ reg.id }}">
            <input type="text" name="patient_name" value="{{ reg.patient_name }}" required>
        </td>
        <td>
            <input type="text" name="status" value="{{ reg.status }}" required>
        </td>
        <td>
            <button type="submit">수정</button>
          </form>
          <form action="/registration/delete" method="post" style="display: inline;">
            <input type="hidden" name="id" value="{{ reg.id }}">
            <button type="submit" onclick="return confirm('삭제하시겠습니까?')">삭제</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <h2>새 접수 추가</h2>
  <form action="/registration/add" method="post">
    <label>환자이름: <input type="text" name="patient_name" required></label>
    <button type="submit">추가</button>
  </form>
{% endblock %}
